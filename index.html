<!DOCTYPE html>
<html lang="ko" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Onepick native api Test Web</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

  <script>

  function requestPhoneCode() {
    window.flutter_inappwebview.callHandler('requestPhoneCode');
  }
  function receivedPhoneCode(phoneCode) {
    var phonecode = phoneCode.message["code"];
    document.getElementById("phonecode").innerHTML=phonecode;
  }


  function requestLocation() {
    window.flutter_inappwebview.callHandler("requestLocation");
  }
  function receivedLocation(location) {
    var lat = location.message["lat"];
    var lng = location.message["lng"];
    document.getElementById("lat").innerHTML=lat;
    document.getElementById("lng").innerHTML=lng;
  }


  function requestShare() {
     window.flutter_inappwebview.callHandler("requestShare");
  }
  function receivedShare(share) {
    var shareMsg = share.message;
    document.getElementById("share").innerHTML=shareMsg;
  }
    
  function requestShare2() {
     window.flutter_inappwebview.callHandler("requestShare2");
  }
  function receivedShare2(share2) {
    var shareMsg2 = share2.message;
    document.getElementById("share2").innerHTML=shareMsg2;
  }
    
  function requestFCMappToken() {
    window.flutter_inappwebview.callHandler("requestFCMappToken");
  }
  function receivedFCMappToken(token) {
    var tokensuccess = token.message["token"];
    
    document.getElementById("tokensuccess").innerHTML=tokensuccess;
  }
    
  function requestSaveData() {
    window.flutter_inappwebview.callHandler("requestSaveData","key","value");
  }
  function receivedSaveData(data) {
    var dataSaveSuccess = data.message;
    
    document.getElementById("dataSaveSuccess").innerHTML=dataSaveSuccess;
  }
    
  function requestLoadData() {
    window.flutter_inappwebview.callHandler("requestLoadData","key");
  }
  function receivedLoadData(data) {
    var dataKey = data.message["key"];
    var dataValue = data.message["value"];
    
    document.getElementById("dataKey").innerHTML=dataKey;
    document.getElementById("dataValue").innerHTML=dataValue;
  }
    
  function requestOpenAppSettings() {
    window.flutter_inappwebview.callHandler("requestOpenAppSettings");
  }
  function receivedOpenAppSettings(settings) {
    var goSettingSuccess = settings.message;
    
    document.getElementById("goSettingSuccess").innerHTML=goSettingSuccess;
  }
    
  function requestPushOnOff() {
    window.flutter_inappwebview.callHandler("requestPushOnOff");
  }
  
  function requestPushOn() {
    window.flutter_inappwebview.callHandler("requestPushOn","FCM_ON");
  }
    
  function requestPushOff() {
    window.flutter_inappwebview.callHandler("requestPushOff","FCM_OFF");
  }
    
//   function requestOpenNotificationSettings() {
//     window.flutter_inappwebview.callHandler("requestOpenNotificationSettings");
//   }
    
  function receivedPushOnOff(push) {
    var pushonoff = push.message;
    
    document.getElementById("pushonoff").innerHTML=pushonoff;
  }
    
  function requestChangePath() {
    window.flutter_inappwebview.callHandler("requestChangePath");
  }
  
  var changePath = '';
  
  function receivedChangePath(path) {
    changePath = path.message;
  }

  function error(error){
    var errorLog = error.message;
    document.getElementById("error").innerHTML=errorLog;
  }
    
  window.onload = function () {
    requestChangePath();
    if(changePath != ''){
      location.href = changePath;
      console.log('done');
    }
    print('hi onload');
  }
    
  </script>
  </head>
  <body>
    <h1 id="devpick">http://devpick.rlink.info:8080</h1>
    <button type="button" onClick="location.href='http://devpick.rlink.info:8080'">개발링크1</button>
    
    <h1 id="devpicksmartdesk">https://devpick.smartdesk.kr</h1>
    <button type="button" onClick="location.href='https://devpick.smartdesk.kr'">개발링크2</button>
    
    <h1 id="searchlink">https://www.google.co.kr</h1>
    <button type="button" onClick="location.href='https://www.google.co.kr'">https://flutter.dev</button>
    
    <h1 id="tellink">tel://02-1234-1199</h1>
    <button type="button" onClick="location.href='tel://02-1234-1199'">tel://02-1234-1199</button>
    
    <h1 id="tellink2">tel:02-1234-1199</h1>
    <button type="button" onClick="location.href='tel:02-1234-1199'">tel:02-1234-1199</button>
    
    <h1 id="phonecode">This is phonecode api</h1>
    <button type="button" onclick="requestPhoneCode()">receive phonecode</button>
    
    <h1 id="lat">This is location api(lat)</h1>
    <h1 id="lng">This is location api(lng)</h1>
    <button type="button" onclick="requestLocation()">receive location</button>    
    
    <h1 id="apptoken">This is FCM AppToken</h1>
    <h1 id="tokensuccess">hi appToken</h1>
    <button type="button" onclick="requestFCMappToken()">receive token</button>
    
    <h1 id="share">This is share api</h1>
    <button type="button" onclick="requestShare()">use Share</button>
    <h1 id="share2">This is share api2</h1>
    <button type="button" onclick="requestShare2()">use Share2</button>
    
    <h1 id="dataSaveSuccess">This is savedata api</h1>
    <button type="button" onclick="requestSaveData()">use savedata(key:key, value:value)</button>
    <h1 id="dataKey">This is loaddata api(key)</h1>
    <h1 id="dataValue">This is loaddata api(value)</h1>
    <button type="button" onclick="requestLoadData()">use loaddata</button>
    
    <h1 id="goSettingSuccess">This is openAppSettings api</h1>
    <button type="button" onclick="requestOpenAppSettings()">OpenAppSettings()</button>
    
    <h1 id="pushonoff">This is PushOnOff api</h1>
    <button type="button" onclick="requestPushOn()">pushOn</button>
    <button type="button" onclick="requestPushOff()">pushOff</button>
<!--     <button type="button" onclick="requestPushOnOff()">PushOnOff</button> -->
<!--     <button type="button" onclick="requestOpenNotificationSettings()">OpenNotificationSettings</button> -->
    <button type="button" onClick="location.href='https://duckwon.netlify.app/share'">go share page</button>
    
    <form>
      <input type="file" accept="image/*" 
      multiple required capture='user'
      onchange="aaa"/>
        <input type="submit">
    </form>
        
    <h1 id = "error">hi error</h1>
   
    
  <script src="index.js"></script>

  </body>
</html>
